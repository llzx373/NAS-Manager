# NAS-Manager

# 项目缘由

项目来源，是我在管理我自己的nas时候，遇到很多配置文件需要手工去写，而可以用的一些软件，要么实在太丑（比如smb配置管理工具），要么就是功能太复杂导致管理起来很麻烦（比如webmin），其他nas管理工具也几乎是绑死操作系统，而我更倾向于在centos之上处理，避免小众系统经常出现的，出问题不知道怎么处理的情况。

早期主要使用webmin，但实际使用下来，webmin没有很多比较晚近的功能管理，比如docker，vm之类，需要另外部署服务去管。

因此计划写一个简单的，方便的NAS管理系统，简化NAS服务配置的东西。

技术架构参考我早前因为看图与视频需求写的另外一个MyNAS项目，vue+flask+postgresql实现。

# 需求分类

这里对需要做的事情进行详细分类，方便后续整体规划。

## 用户管理类

这个解决多用户情况下，文件访问权限的问题，通过linux原生实现，主要功能诉求如下：

- 用户类
    - 新增用户
    - 删除用户
    - 重置用户密码
    - 修改用户属组
- 组类
    - 新增用户组
    - 删除用户组
    - 修改用户组下用户

## SMB类

这个主要解决文件共享问题，考虑到使用场景为NAS，文件共享仅考虑smb协议，ftp通过ssh的sftp去作，不做单独管理。

- 共享目录
    - 新增共享目录
    - 删除共享目录
    - 修改共享目录属性（读写/可以访问的用户/是否是公开目录）
- smb用户
    - 联动操作系统用户管理
    - 重置smb用户密码

##  网络类

这个主要解决网络配置的问题

- 网卡配置
    - dhcp配置
    - static配置
- 主机网络配置
    - 主机名
    - hosts文件配置

## systemctl配置

这个主要解决systemd的管理问题，从这里调转到对应服务

- 服务列表
    - 名称/状态过滤
- 起停服务
- 修改服务（是否开机自动启动）
